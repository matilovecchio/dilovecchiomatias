@use "../base/variables" as *;
@use "../base/mixins" as *;

/* ========== HEADER (navbar) ========== */
header {
  /* Posici√≥n original */
  position: absolute;
  inset: 0 0 auto 0;
  width: 100%;
  z-index: 1000;
  background-color: transparent;

  .header-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    margin: 0;
    padding: $space-24 $space-36; 
    background-color: transparent;

    .logo {
      img {
        width: 60px;
        height: 60px;
        display: block;
        object-fit: contain;
      }
    }

    nav {
      flex: 1;
      display: flex;
      justify-content: flex-end;

      .menu {
        display: flex;
        align-items: center;
        height: 44px;
        list-style: none;
        padding: 0;
        margin: 0;

        li {
          display: flex;

          a {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 50px;
            padding: $space-8 $space-24; 
            border: $border-w solid $color-bg-dark;
            text-decoration: none;
            font-family: $ff-base;
            text-transform: uppercase;
            font-weight: 600;
            font-size: 24px;

            /* Fondo claro por defecto */
            background-color: $color-text-light;
            color: $color-bg-dark;

            @include smooth(transform, .25s, ease);
            @include smooth(box-shadow, .25s, ease);
            @include smooth(background, .25s, ease);
            @include smooth(color, .25s, ease);

            &:hover {
              background-color: $accent-green;
              border-color: $color-bg-dark;
              color: $color-bg-dark;
              transform: rotate(3deg) scale(1.1);
              box-shadow: 0 6px 12px rgba(0, 0, 0, .12);
            }

            /* Activo (estado base) */
            &.active {
              background-color: $color-bg-dark;
              border-color: $color-bg-dark;
              color: $color-text-light;
            }

            &:focus-visible {
              outline: 3px dashed $color-bg-dark;
              outline-offset: 2px;
            }

            &:active {
              background-color: $accent-green;
              border-color: $color-bg-dark;
              color: $color-bg-dark;
            }
          }

          /* Une los bordes entre tabs */
          & + li {
            a { margin-left: -$border-w; }
          }
        }
      }
    }
  }



  :root:has(#references) & .menu a.active,
  .references-page & .menu a.active {
    background: $accent-green;
    color: $color-bg-dark;
    border-color: $color-stroke;
    transform: none;
    box-shadow: none;

    &:hover,
    &:focus,
    &:active {
      background: $accent-green;
      color: $color-bg-dark;
      border-color: $color-stroke;
      transform: none !important;
      box-shadow: none !important;
    }
  }

  :root:has(#services) & .menu a.active,
  .services-page & .menu a.active {
    background: $accent-green;
    color: $color-bg-dark;
    border-color: $color-stroke;
    transform: none;
    box-shadow: none;

    &:hover,
    &:focus,
    &:active {
      background: $accent-green;
      color: $color-bg-dark;
      border-color: $color-stroke;
      transform: none !important;
      box-shadow: none !important;
    }
  }

  /* Breakpoints de navbar */
  @media (max-width: 840px) {
    nav {
      width: 100%;

      .menu {
        flex-wrap: wrap;
        justify-content: flex-end;
        align-content: flex-start;

        li { margin-top: -$border-w; }
        li + li a { margin-left: -$border-w; }

        a {
          font-size: 20px;
          height: 44px;
          padding: $space-8 $space-16;
        }
      }
    }
  }

  @media (max-width: 520px) {
    nav {
      .menu {
        a {
          font-size: 18px;
          height: 40px;
          padding: $space-6 $space-12;
        }
      }
    }
  }
}
