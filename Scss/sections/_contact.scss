@use "../base/variables" as *;
@use "../base/mixins" as *;

/* ========== CONTACT ========== */
#contact {
  font-family: $ff-base;
  color: $color-bg-dark;
  padding-top: $space-96;

  /* Hereda tipografías dentro del formulario */
  * { font-family: inherit; }

  /* Selección de texto y autofill */
  ::selection {
    background: $color-bg-dark;
    color: $color-text-light;
  }
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  textarea:-webkit-autofill,
  textarea:-webkit-autofill:hover,
  textarea:-webkit-autofill:focus {
    -webkit-text-fill-color: $color-bg-dark;
    transition: background-color 9999s ease-in-out 0s;
    box-shadow: 0 0 0px 1000px $color-text-light inset;
  }

  /* Layout de la sección: media + form */
  .contact-layout {
    display: grid;
    grid-template-columns: minmax(260px, 1fr) minmax(0, 2fr);
    align-items: stretch;
  }

  /* Columna de imagen */
  .contact-media {
    margin: 0;
    overflow: hidden;
    min-height: 0;

    img {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  }

  /* Columna de formulario */
  .contact-form {
    display: flex;
    flex-direction: column;
    gap: $space-36;
    border-left: $border-w solid $color-bg-dark;
    border-top: $border-w solid $color-bg-dark;
    padding: $space-32 0 0 $space-16;

    /* Field: etiqueta + control */
    .field {
      display: flex;
      flex-direction: column;
      gap: $space-12;

      label {
        margin: 0;
        font-weight: 700;
        font-size: 24px;
        line-height: 1.2;
        color: $color-bg-dark;
      }
    }

    /* Inputs y textarea: ancho completo y focus sin “efecto select” */
    input[type="text"],
    input[type="email"],
    textarea {
      box-sizing: border-box;
      padding: $space-8 20px;
      border: $border-w solid $color-bg-dark;
      background: $color-text-light;
      color: $color-bg-dark;
      font-weight: 400;
      font-size: 24px;
      line-height: 1.35;
      appearance: none;
      -webkit-appearance: none;
      outline: none;
      box-shadow: none;

      /* Borde a borde con el marco del formulario */
      margin-left: calc(-1 * (#{$space-16} + #{$border-w}));
      width: calc(100% + #{$space-16} + #{$border-w});

      &::placeholder {
        color: $color-bg-dark;
        opacity: .7;
        font-size: 24px;
        line-height: 1.35;
      }

      &:focus-visible {
        outline: 2px dashed $color-bg-dark;
        outline-offset: 2px;
        box-shadow: none;
      }
    }

    textarea {
      min-height: 160px;
      resize: vertical;
    }

    /* Grupo de checks alineado con los inputs */
    .checks {
      display: flex;
      flex-direction: column;
      gap: $space-12;

      padding-left: $space-16;
      margin-left: calc(-1 * (#{$space-16} + #{$border-w}));
      width: calc(100% + #{$space-16} + #{$border-w});

      .checks-title {
        margin: 0;
        font-weight: 700;
        font-size: 24px;
        line-height: 1.2;
        color: $color-bg-dark;
      }

      .checks-list {
        display: flex;
        flex-direction: column;
        gap: $space-16;
      }

      .check-item {
        display: flex;
        align-items: center;
        gap: $space-16;
        font-weight: 400;
        font-size: 24px;
        line-height: 1.3;
        color: $color-bg-dark;

        .check {
          appearance: none;
          -webkit-appearance: none;
          width: 32px;
          height: 32px;
          border: 2px solid $color-bg-dark;
          background: $color-text-light;
          border-radius: 2px;
          position: relative;
          cursor: pointer;
          box-shadow: none;

          &:checked::after {
            content: "";
            position: absolute;
            left: 9px;
            top: 3px;
            width: 10px;
            height: 18px;
            border-right: 4px solid $color-bg-dark;
            border-bottom: 4px solid $color-bg-dark;
            transform: rotate(45deg);
          }

          &:focus-visible {
            outline: 2px dashed $color-bg-dark;
            outline-offset: 2px;
          }
        }
      }
    }

    /* Botón: mismo ancho que los inputs */
    .btn,
    button[type="submit"],
    input[type="submit"] {
      display: inline-block;
      font-size: 24px;
      line-height: 1.2;
      font-weight: 600;
      text-transform: uppercase;
      min-height: 44px;

      margin-left: calc(-1 * (#{$space-16} + #{$border-w}));
      width: calc(100% + #{$space-16} + #{$border-w});

      background: $color-bg-dark;
      color: $color-text-light;
      border: $border-w solid $color-bg-dark;
      padding: $space-12 $space-16;
      text-align: center;
      @include smooth(all, .25s);

      &:hover,
      &:focus-visible {
        background: $accent-green;
        color: $color-bg-dark;
        border-color: $color-bg-dark;
        outline: none;
      }
    }
  }

  /* Responsive */
  @media (max-width: $bp-lg) {
    .contact-layout { grid-template-columns: 1fr; }

    .contact-form {
      border-left: none;
      padding-left: 0;

      /* En mobile los controles ocupan 100% sin compensación lateral */
      input[type="text"],
      input[type="email"],
      textarea,
      .checks,
      .btn,
      button[type="submit"],
      input[type="submit"] {
        margin-left: 0;
        width: 100%;
      }
    }

    .contact-media img { height: auto; }
  }
}
